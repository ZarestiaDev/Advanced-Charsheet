<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
	<windowclass name="charsheet_main">
		<script file="campaign/scripts/char_main.lua" />
		<sheetdata>
			<!-- Abilities -->
			<frame_char name="abilityframe">
				<bounds>15,0,220,244</bounds>
			</frame_char>

			<number_charabilityscore name="strength" source="abilities.strength.score">
				<anchored to="abilityframe" position="insidetopleft" offset="54,25" />
			</number_charabilityscore>
			<string_charabilitylabel name="strength_label">
				<anchored to="strength" />
				<static textres="str" />
			</string_charabilitylabel>
			<number_charabilitybonus name="strengthbonus" source="abilities.strength.bonus">
				<anchored to="strength" />
				<target>strength</target>
				<modifierfield>abilities.strength.bonusmodifier</modifierfield>
			</number_charabilitybonus>
			<number_charabilitydamage name="strengthdamage" source="abilities.strength.damage">
				<anchored to="strengthbonus" />
				<target>strength</target>
			</number_charabilitydamage>

			<number_charabilityscore name="dexterity" source="abilities.dexterity.score">
				<anchored to="strength" />
			</number_charabilityscore>
			<string_charabilitylabel name="dexterity_label">
				<anchored to="dexterity" />
				<static textres="dex" />
			</string_charabilitylabel>
			<number_charabilitybonus name="dexteritybonus" source="abilities.dexterity.bonus">
				<anchored to="dexterity" />
				<target>dexterity</target>
				<modifierfield>abilities.dexterity.bonusmodifier</modifierfield>
			</number_charabilitybonus>
			<number_charabilitydamage name="dexteritydamage" source="abilities.dexterity.damage">
				<anchored to="dexteritybonus" />
				<target>dexterity</target>
			</number_charabilitydamage>

			<number_charabilityscore name="constitution" source="abilities.constitution.score">
				<anchored to="dexterity" />
			</number_charabilityscore>
			<string_charabilitylabel name="constitution_label">
				<anchored to="constitution" />
				<static textres="con" />
			</string_charabilitylabel>
			<number_charabilitybonus name="constitutionbonus" source="abilities.constitution.bonus">
				<anchored to="constitution" />
				<target>constitution</target>
				<modifierfield>abilities.constitution.bonusmodifier</modifierfield>
			</number_charabilitybonus>
			<number_charabilitydamage name="constitutiondamage" source="abilities.constitution.damage">
				<anchored to="constitutionbonus" />
				<target>constitution</target>
			</number_charabilitydamage>

			<number_charabilityscore name="intelligence" source="abilities.intelligence.score">
				<anchored to="constitution" />
			</number_charabilityscore>
			<string_charabilitylabel name="intelligence_label">
				<anchored to="intelligence" />
				<static textres="int" />
			</string_charabilitylabel>
			<number_charabilitybonus name="intelligencebonus" source="abilities.intelligence.bonus">
				<anchored to="intelligence" />
				<target>intelligence</target>
				<modifierfield>abilities.intelligence.bonusmodifier</modifierfield>
			</number_charabilitybonus>
			<number_charabilitydamage name="intelligencedamage" source="abilities.intelligence.damage">
				<anchored to="intelligencebonus" />
				<target>intelligence</target>
			</number_charabilitydamage>

			<number_charabilityscore name="wisdom" source="abilities.wisdom.score">
				<anchored to="intelligence" />
			</number_charabilityscore>
			<string_charabilitylabel name="wisdom_label">
				<anchored to="wisdom" />
				<static textres="wis" />
			</string_charabilitylabel>
			<number_charabilitybonus name="wisdombonus" source="abilities.wisdom.bonus">
				<anchored to="wisdom" />
				<target>wisdom</target>
				<modifierfield>abilities.wisdom.bonusmodifier</modifierfield>
			</number_charabilitybonus>
			<number_charabilitydamage name="wisdomdamage" source="abilities.wisdom.damage">
				<anchored to="wisdombonus" />
				<target>wisdom</target>
			</number_charabilitydamage>

			<number_charabilityscore name="charisma" source="abilities.charisma.score">
				<anchored to="wisdom" />
			</number_charabilityscore>
			<string_charabilitylabel name="charisma_label">
				<anchored to="charisma" />
				<static textres="cha" />
			</string_charabilitylabel>
			<number_charabilitybonus name="charismabonus" source="abilities.charisma.bonus">
				<anchored to="charisma" />
				<target>charisma</target>
				<modifierfield>abilities.charisma.bonusmodifier</modifierfield>
			</number_charabilitybonus>
			<number_charabilitydamage name="charismadamage" source="abilities.charisma.damage">
				<anchored to="charismabonus" />
				<target>charisma</target>
			</number_charabilitydamage>

			<label_fieldtop name="abilityscore_label">
				<anchored to="strength" />
				<static textres="char_label_abilityscore" />
			</label_fieldtop>
			<label_fieldtop name="abilitymod_label">
				<anchored to="strengthbonus" />
				<static textres="char_label_abilitymod" />
			</label_fieldtop>
			<label_fieldtop name="abilitydamage_label">
				<anchored to="strengthdamage" />
				<static textres="char_label_abilitydamage" />
			</label_fieldtop>

			<!-- Health -->
			<frame_char name="hpframe">
				<bounds>236,0,-29,100</bounds>
			</frame_char>

			<genericcontrol name="leftanchor">
				<anchored to="hpframe" position="insidetopleft" width="0" height="0">
					<top offset="1" />
					<left offset="10" />
				</anchored>
			</genericcontrol>

			<button_chardetails name="button_health">
				<anchored>
					<top offset="26" />
					<left parent="leftanchor" anchor="right" relation="relative" offset="0" />
				</anchored>
				<script>
					function onButtonPress()
						Interface.openWindow("charsheet_livehp", window.getDatabaseNode());
					end
				</script>
				<invisible />
			</button_chardetails>
			<label name="hitpoints_label">
				<anchored>
					<top offset="26" />
					<left parent="leftanchor" anchor="right" relation="relative" offset="5" />
				</anchored>
				<static textres="hp" />
			</label>

			<number_dropadd name="current" source="hp.current">
				<anchored width="36" height="24">
					<top offset="24" />
					<left parent="leftanchor" anchor="right" relation="relative" offset="16" />
				</anchored>
			</number_dropadd>
			<number_dropadd name="hp" source="hp.total">
				<anchored width="36" height="24">
					<top offset="24" />
					<left parent="leftanchor" anchor="right" relation="relative" offset="20" />
				</anchored>
				<script>
					function onValueChanged()
						window.onHealthChanged();
					end
				</script>
			</number_dropadd>
			<number_dropadd name="hptemp" source="hp.temporary">
				<anchored width="36" height="24">
					<top offset="24" />
					<left parent="leftanchor" anchor="right" relation="relative" offset="20" />
				</anchored>
				<color>0000AA</color>
				<hideonvalue>0</hideonvalue>
				<script>
					function onValueChanged()
						window.onHealthChanged();
					end
				</script>
			</number_dropadd>
			<number_charwounds name="wounds" source="hp.wounds">
				<anchored width="36" height="24">
					<top offset="24" />
					<left parent="leftanchor" anchor="right" relation="relative" offset="20" />
				</anchored>
			</number_charwounds>
			<number_dropadd name="nonlethal" source="hp.nonlethal">
				<anchored width="36" height="24">
					<top offset="24" />
					<left parent="leftanchor" anchor="right" relation="relative" offset="20" />
				</anchored>
				<hideonvalue>0</hideonvalue>
				<script>
					function onValueChanged()
						window.onHealthChanged();
					end
				</script>
			</number_dropadd>

			<label_fieldtop name="nonlethal_label">
				<anchored to="nonlethal" />
				<static textres="char_hp_nonlethal_label" />
			</label_fieldtop>
			<label_fieldtop name="wounds_label">
				<anchored to="wounds" />
				<static textres="char_label_wounds" />
			</label_fieldtop>
			<label_fieldtop name="hptemp_label">
				<anchored to="hptemp" />
				<static textres="char_label_hptemp" />
			</label_fieldtop>
			<label_fieldtop name="hp_label">
				<anchored to="hp" />
				<static textres="char_hp_max_label" />
			</label_fieldtop>
			<label_fieldtop name="current_label">
				<anchored to="current" />
				<static textres="char_hp_current_label" />
			</label_fieldtop>

			<!-- Damage Reduction -->
			<string_labeled name="dr" source="defenses.damagereduction">
				<anchored to="hpframe" position="insidebottomleft" offset="15,21" width="316" height="20" />
				<labelres>char_label_dr</labelres>
			</string_labeled>

			<!-- Armor Class -->
			<frame_char name="acframe">
				<bounds>236,100,-29,72</bounds>
			</frame_char>

			<label name="armorclass_label">
				<anchored to="acframe" position="insidetopleft" offset="15,26" />
				<static textres="char_label_combatac" />
			</label>
			<number_chartotalac name="ac" source="ac.totals.general">
				<anchored to="armorclass_label" position="righthigh" offset="18,-2" width="36" height="24" />
			</number_chartotalac>
			<number_charflatfootedac name="flatfootedac" source="ac.totals.flatfooted">
				<anchored to="ac" position="righthigh" offset="20,0" width="36" height="24" />
			</number_charflatfootedac>
			<number_chartouchac name="touchac" source="ac.totals.touch">
				<anchored to="flatfootedac" position="righthigh" offset="20,0" width="36" height="24" />
			</number_chartouchac>
			<number_charcmd name="cmd" source="ac.totals.cmd">
				<anchored to="touchac" position="righthigh" offset="20,0" width="36" height="24" />
			</number_charcmd>

			<label_fieldtop name="ac_label">
				<anchored to="ac" />
				<static textres="ac" />
			</label_fieldtop>
			<label_fieldtop name="flatfootedac_label">
				<anchored to="flatfootedac" />
				<static textres="acff" />
			</label_fieldtop>
			<label_fieldtop name="touchac_label">
				<anchored to="touchac" />
				<static textres="actouch" />
			</label_fieldtop>
			<label_fieldtop name="label_cmd">
				<anchored to="cmd" />
				<static textres="cmd" />
			</label_fieldtop>

			<!-- Misc -->
			<frame_char name="charmiscframe">
				<bounds>236,172,-29,72</bounds>
			</frame_char>
			<label name="misc_label">
				<anchored to="charmiscframe" position="insidetopleft" offset="15,26" />
				<static textres="char_label_miscellaneous" />
			</label>

			<number_charinit name="initiative" source="initiative.total">
				<anchored to="misc_label" position="righthigh" offset="62,-2" width="36" height="24" />
			</number_charinit>
			<number_charsr name="spellresistance" source="defenses.sr.total">
				<anchored to="initiative" position="righthigh" offset="20,0" width="36" height="24" />
			</number_charsr>
			<basicnumber name="baseattackbonus" source="attackbonus.base">
				<anchored to="spellresistance" position="righthigh" offset="20,0" width="36" height="24" />
				<displaysign />
			</basicnumber>

			<label_fieldtop name="spellresistance_label">
				<anchored to="spellresistance" />
				<static textres="sr" />
			</label_fieldtop>
			<label_fieldtop name="initiative_label">
				<anchored to="initiative" />
				<static textres="init" />
			</label_fieldtop>
			<label_fieldtop name="baseattackbonus_label">
				<anchored to="baseattackbonus" />
				<static textres="class_label_bab_short" />
			</label_fieldtop>

			<button_chardetails name="button_char_advanced_effects">
				<anchored to="baseattackbonus" position="righthigh" offset="28,4" />
				<script>
					function onButtonPress()
						Interface.openWindow("advanced_effects_editor_custom", window.getDatabaseNode());
					end
				</script>
				<invisible />
			</button_chardetails>
			<label_fieldtop name="char_advanced_effects_label">
				<anchored to="button_char_advanced_effects" offset="0,5" />
				<static textres="char_label_advanced_effects" />
				<invisible />
			</label_fieldtop>

			<!-- Speed -->
			<frame_char name="speedframe">
				<bounds>236,244,-29,72</bounds>
			</frame_char>

			<label name="speedfinal_label">
				<anchored to="speedframe" position="insidetopleft" offset="15,28" />
				<static textres="char_label_speed" />
			</label>
			<number_charspeed name="speedfinal" source="speed.final">
				<anchored to="speedfinal_label" position="righthigh" offset="52,-2" width="36" height="24" />
			</number_charspeed>
			<string_labeled name="speedspecial" source="speed.special">
				<anchored to="speedfinal" position="righthigh" offset="10,9" width="160" height="20" />
				<labelres>char_label_speedspecial</labelres>
			</string_labeled>

			<!-- Senses -->
			<frame_char name="sensesframe">
				<bounds>236,316,-29,72</bounds>
			</frame_char>
			<genericcontrol name="anchor_charmainskill">
				<anchored to="sensesframe" position="insidetopleft" offset="0,28" width="0" height="20" />
			</genericcontrol>
			<button_charmainskill name="spot">
				<skill>skill_value_spot</skill>
			</button_charmainskill>
			<label_charmainskill name="label_spot">
				<anchored to="spot" />
				<static textres="char_label_skillspot" />
			</label_charmainskill>
			<button_charmainskill name="listen">
				<skill>skill_value_listen</skill>
			</button_charmainskill>
			<label_charmainskill name="label_listen">
				<anchored to="listen" />
				<static textres="char_label_skilllisten" />
			</label_charmainskill>
			<button_charmainskill name="search">
				<skill>skill_value_search</skill>
			</button_charmainskill>
			<label_charmainskill name="label_search">
				<anchored to="search" />
				<static textres="char_label_skillsearch" />
			</label_charmainskill>
			<button_charmainskill name="perception">
				<skill>skill_value_perception</skill>
				<invisible />
			</button_charmainskill>
			<label_charmainskill name="label_perception">
				<anchored to="perception" />
				<static textres="char_label_skillperception_short" />
				<invisible />
			</label_charmainskill>
			<string_labeled name="senses">
				<anchored to="sensesframe" height="20">
					<top offset="32" />
					<left parent="anchor_charmainskill" anchor="right" relation="relative" offset="20" />
					<right offset="-15" />
				</anchored>
				<labelres>char_label_senses</labelres>
				<delaykeyupdate />
			</string_labeled>

			<!-- Attacks -->
			<frame_char name="combatframe">
				<bounds>15,244,220,72</bounds>
			</frame_char>

			<label name="atk">
				<anchored to="combatframe" position="insidetopleft" offset="15,26" />
				<static textres="char_label_atk" />
			</label>
			<number_charmeleetotal name="meleemainattackbonus" source="attackbonus.melee.total">
				<anchored to="atk" position="righthigh" offset="19,0" width="36" height="24" />
			</number_charmeleetotal>
			<number_charrangedtotal name="rangedmainattackbonus" source="attackbonus.ranged.total">
				<anchored to="meleemainattackbonus" position="righthigh" offset="20,0" width="36" height="24" />
			</number_charrangedtotal>
			<number_chargrappletotal name="grappleattackbonus" source="attackbonus.grapple.total">
				<anchored to="rangedmainattackbonus" position="righthigh" offset="20,0" width="36" height="24" />
			</number_chargrappletotal>
			
			<label_fieldtop name="melee_label">
				<anchored to="meleemainattackbonus" offset="0,2" />
				<static textres="char_label_melee" />
			</label_fieldtop>
			<label_fieldtop name="ranged_label">
				<anchored to="rangedmainattackbonus" offset="0,2" />
				<static textres="char_label_ranged_short" />
			</label_fieldtop>
			<label_fieldtop name="label_grapple">
				<anchored to="grappleattackbonus" offset="0,2" />
				<static textres="grp" />
			</label_fieldtop>

			<!-- Saves -->
			<frame_char name="saveframe">
				<bounds>15,316,220,72</bounds>
			</frame_char>

			<label name="save">
				<anchored to="saveframe" position="insidetopleft" offset="15,26" />
				<static textres="char_label_save" />
			</label>
			<number_charsavefort name="fortitude" source="saves.fortitude.total">
				<anchored to="save" position="righthigh" offset="11,0" width="36" height="24" />
			</number_charsavefort>
			<number_charsaveref name="reflex" source="saves.reflex.total">
				<anchored to="fortitude" position="righthigh" offset="20,0" width="36" height="24" />
			</number_charsaveref>
			<number_charsavewill name="will" source="saves.will.total">
				<anchored to="reflex" position="righthigh" offset="20,0" width="36" height="24" />
			</number_charsavewill>

			<label_fieldtop name="fortitude_label">
				<anchored to="fortitude" />
				<static textres="fort" />
			</label_fieldtop>
			<label_fieldtop name="reflex_label">
				<anchored to="reflex" />
				<static textres="ref" />
			</label_fieldtop>
			<label_fieldtop name="will_label">
				<anchored to="will" />
				<static textres="will" />
			</label_fieldtop>
			
			<!-- Notes -->
			<frame_char name="noteframe">
				<bounds>15,388,-29,-6</bounds>
			</frame_char>
			<label name="char_notes_label">
				<anchored to="noteframe" position="insidetopleft" offset="14,15" />
				<static textres="char_label_notes" />
			</label>

			<simpleft name="notes_main">
				<anchored to="noteframe" position="insidetopleft" offset="15,40">
					<right offset="-20" />
					<bottom offset="-16" />
				</anchored>
				<frame mergerule="replace" name="fielddark" offset="7,5,7,5" hidereadonly="true" />
				<stateframe>
					<keyedit name="fieldfocus" offset="7,5,7,5" />
					<hover name="fieldfocus" offset="7,5,7,5" hidereadonly="true" />
					<drophilight name="fieldfocus" offset="7,5,7,5" hidereadonly="true" />
				</stateframe>
			</simpleft>
			<scrollbar name="notes_main_scrollbar">
				<anchored to="notes_main" />
				<target>notes_main</target>
			</scrollbar>
		</sheetdata>
	</windowclass>
	
	<windowclass name="charsheet_classes" merge="join">
		<sheetdata>
			<label name="classskillranksused_label">
				<anchored to="labelanchor" width="33">
					<top />
					<right anchor="left" relation="relative" offset="-9" />
				</anchored>
			</label>
			<label name="classskillrankstotal_label">
				<anchored to="labelanchor" width="33">
					<top />
					<right anchor="left" relation="relative" offset="-7" />
				</anchored>
			</label>
			<label name="classlevel_label">
				<anchored to="labelanchor" width="34">
					<top />
					<right anchor="left" relation="relative" offset="-7" />
				</anchored>
			</label>
		</sheetdata>
	</windowclass>
</root>
